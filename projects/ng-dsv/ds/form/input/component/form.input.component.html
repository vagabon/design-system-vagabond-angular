<div [formGroup]="form()">
  @if (withLabel()) {
    <label
      [for]="field()"
      [class.error]="
        form().get(field())?.touched && form().get(field())?.invalid
      "
    >
      {{ field() }} {{ isRequired ? "*" : "" }}
    </label>
  }
  @if (type() === "textarea") {
    <textarea
      [id]="field()"
      [formControlName]="field()"
      class="form-control"
      [class.error]="
        form().get(field())?.touched && form().get(field())?.invalid
      "
    ></textarea>
  } @else {
    <input
      [id]="field()"
      [type]="type()"
      [formControlName]="field()"
      class="form-control"
      [class.icon]="icon()"
      [class.error]="
        form().get(field())?.touched && form().get(field())?.invalid
      "
      (keydown.enter)="onEnter()"
    />
  }
  @if (icon()) {
    <i [class]="icon()"></i>
  }
  @if (form().get(field())?.touched && form().get(field())?.invalid) {
    <div class="error-content">
      @if (form().get(field())?.errors?.["required"]) {
        <div>Le champ est requis.</div>
      }
    </div>
  }
</div>
